---
import BaseLayout from '../../layouts/BaseLayout.astro';
import SubpageHero from '../../components/SubpageHero.astro';
import ColorDividerShort from '../../components/ColorDividerShort.astro';

import '../../styles/base.css';
import '../../styles/theme.root.css';
import FAQSection from '../../components/FAQSection.astro';
---

<BaseLayout
  title="Contacto | Arizona Family Connections"
  description="Póngase en contacto con Arizona Family Connections si tiene preguntas sobre visitas supervisadas o servicios de apoyo familiar. Nuestro equipo está aquí para ayudarle y responderá con prontitud."
  language="es"
  canonical="/es/contact"
>
  <SubpageHero
    subtitle="Contacto de Arizona Family Connections"
    title="Estamos aquí para ayudarle en cada paso"
    description="¿Tiene preguntas o necesita programar una visita? Comuníquese con nuestro equipo para recibir apoyo atento y orientación clara."
    ctaText="Envíenos un mensaje"
    ctaUrl="/es/contact#contact-form"
    decorationLeft="/images/email-watermark.svg"
    decorationRight="/images/phone-watermark.svg"
  />
  <ColorDividerShort />

  <section
    class="contact-section"
    aria-labelledby="contact-details-heading"
  >
    <div class="contact-container">
      <h2 id="contact-details-heading" class="visually-hidden">
        Detalles de contacto y formulario de mensaje
      </h2>

      <div class="contact-info-grid">
        <div class="contact-card">
          <div class="contact-icon">
            <img
              src="/images/email-icon.svg"
              alt="Ícono de correo electrónico"
            />
          </div>
          <h3 class="contact-card-title">Envíanos un correo</h3>
          <a
            href="mailto:contact@azfamilyconnections.com"
            class="contact-link"
          >
            contact@azfamilyconnections.com
          </a>
          <p class="contact-card-response">Respondemos dentro de 1–2 días hábiles</p>
        </div>

        <div class="contact-card">
          <div class="contact-icon">
            <img
              src="/images/phone-icon.svg"
              alt="Ícono de teléfono"
            />
          </div>
          <h3 class="contact-card-title">Llámanos</h3>
          <a href="tel:+14807646689" class="contact-link">
            (480) 764-6689
          </a>
          <p class="contact-card-response">Lunes–Viernes, 9am–6pm</p>
          <p class="contact-card-response">Sábado–Domingo, con cita previa</p>
        </div>
      </div>

      <div class="contact-form-wrapper" id="contact-form">
        <form
          class="contact-form"
          method="POST"
          action="/api/contact"
          aria-label="Formulario de contacto"
        >
          <div class="form-row">
            <div class="form-group">
              <label for="name" class="form-label">Su nombre: *</label>
              <input
                type="text"
                id="name"
                name="name"
                class="form-input"
                required
                autocomplete="name"
                placeholder="Juan Pérez"
              />
            </div>
            <div class="form-group">
              <label for="email" class="form-label">Correo electrónico: *</label>
              <input
                type="email"
                id="email"
                name="email"
                class="form-input"
                required
                autocomplete="email"
                placeholder="usted@ejemplo.com"
              />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="phone" class="form-label">Número de teléfono:</label>
              <input
                type="tel"
                id="phone"
                name="phone"
                class="form-input"
                autocomplete="tel"
                placeholder="(602) 555-1234"
              />
            </div>
            <div class="form-group">
              <label for="subject" class="form-label">Asunto: *</label>
              <select
                id="subject"
                name="subject"
                class="form-select"
                required
              >
                <option value="">-- Seleccione un asunto --</option>
                <option value="Inquiry">Consulta general</option>
                <option value="Scheduling">Pregunta sobre programación</option>
                <option value="Services">Información de servicios</option>
                <option value="Feedback">Comentarios</option>
                <option value="Other">Otro</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="message" class="form-label">Mensaje: *</label>
            <textarea
              id="message"
              name="message"
              class="form-textarea"
              rows="5"
              required
              placeholder="Comparta su mensaje aquí..."
            ></textarea>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              Enviar mensaje
            </button>
          </div>
        </form>
      </div>
    </div>
  </section>

  <FAQSection
    title="Preguntas frecuentes"
    faqs={[
      {
        id: '1',
        title: '¿Qué servicios ofrecen?',
        content:
          'Ofrecemos servicios integrales de apoyo familiar que incluyen consejería, programas educativos y coordinación de recursos.',
      },
      {
        id: '2',
        title: '¿Cómo me inscribo?',
        content:
          'Puede inscribirse visitando nuestra oficina o llenando el formulario de inscripción en línea en nuestro sitio web.',
      },
      {
        id: '3',
        title: '¿Cuál es el costo?',
        content:
          'Nuestros servicios son gratuitos para las familias que califican. Contáctenos para conocer los requisitos de elegibilidad.',
      },
      {
        id: '4',
        title: '¿Ofrecen servicios en español?',
        content:
          'Sí, ofrecemos servicios bilingües tanto en inglés como en español.',
      },
    ]}
    decorationRight="/images/heart-watermark.svg"
    decorationLeft="/images/cloud-watermark.svg"
  />
</BaseLayout>

<style>
  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .contact-section {
    padding: var(--space-8) 0;
  }

  .contact-container {
    max-width: var(--container-xl);
    margin: 0 auto;
    padding: 0 var(--pad-component-lg);
  }

  .contact-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-6);
    margin-bottom: var(--space-8);
  }

  .contact-card {
    background: linear-gradient(
      135deg,
      var(--color-surface) 0%,
      rgba(6, 169, 231, 0.05) 100%
    );
    border: 2px solid var(--brand-primary-200);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    text-align: center;
    transition: all var(--duration-std) var(--ease-standard);
  }

  .contact-card:hover {
    border-color: var(--brand-primary-500);
    box-shadow: 0 8px 24px rgba(6, 169, 231, 0.12);
    transform: translateY(-4px);
  }

  .contact-icon {
    width: 56px;
    height: 56px;
    margin: 0 auto var(--space-4);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }

  .contact-icon img {
    width: 100%;
    height: 100%;
  }

  .contact-card-title {
    margin: 0 0 var(--space-2);
    font-size: var(--text-lg);
    font-weight: var(--weight-bold);
    color: var(--color-text);
  }

  .contact-link {
    display: inline-block;
    color: var(--brand-primary-500);
    text-decoration: none;
    font-weight: var(--weight-bold);
    font-size: var(--text-base);
    margin-bottom: var(--space-2);
    transition: color var(--duration-std) var(--ease-standard);
  }

  .contact-link:hover {
    color: var(--brand-primary-600);
  }

  .contact-card-text {
    margin: 0 0 var(--space-2);
    font-size: var(--text-base);
    color: var(--color-text);
    line-height: 1.6;
  }

  .contact-card-response {
    margin: 0;
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    font-style: italic;
  }

  .contact-form-wrapper {
    background: linear-gradient(
      135deg,
      var(--color-surface) 0%,
      rgba(6, 169, 231, 0.03) 100%
    );
    border: 2px solid var(--brand-primary-200);
    border-radius: var(--radius-lg);
    padding: var(--space-8);
  }

  .contact-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .form-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-4);
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .form-label {
    font-weight: var(--weight-bold);
    font-size: var(--text-base);
    color: var(--color-text);
  }

  .form-input,
  .form-select,
  .form-textarea {
    padding: var(--space-3);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-md);
    font-family: var(--font-body);
    font-size: var(--text-base);
    color: var(--color-text);
    background: var(--color-surface);
    transition: all var(--duration-std) var(--ease-standard);
  }

  .form-input::placeholder,
  .form-textarea::placeholder {
    color: var(--color-text-secondary);
  }

  .form-input:hover,
  .form-select:hover,
  .form-textarea:hover {
    border-color: var(--brand-primary-300);
  }

  .form-input:focus,
  .form-select:focus,
  .form-textarea:focus {
    outline: none;
    border-color: var(--brand-primary-500);
    box-shadow: 0 0 0 3px rgba(6, 169, 231, 0.1);
  }

  .form-textarea {
    resize: vertical;
    min-height: 140px;
    font-family: var(--font-body);
  }

  .form-actions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-4);
    margin-top: var(--space-4);
    padding-top: var(--space-4);
  }

  @media (max-width: 767px) {
    .contact-container {
      padding: 0 var(--pad-component);
    }

    .contact-info-grid {
      grid-template-columns: 1fr;
      gap: var(--space-4);
    }

    .contact-form-wrapper {
      padding: var(--space-6);
    }

    .form-row {
      grid-template-columns: 1fr;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .contact-card,
    .form-input,
    .form-select,
    .form-textarea,
    .contact-link {
      transition: none;
    }

    .contact-card:hover {
      transform: none;
    }
  }
</style>

<script is:inline>
  const form = document.querySelector('.contact-form');

  if (form instanceof HTMLFormElement) {
    form.addEventListener('submit', (event) => {
      event.preventDefault();

      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      if (!data.name || !data.email || !data.message) {
        alert('Por favor complete todos los campos obligatorios.');
        return;
      }

      console.log('Formulario enviado:', data);
      alert("¡Gracias por su mensaje! Nos pondremos en contacto pronto.");
      form.reset();
    });
  }
</script>
